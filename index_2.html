<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title></title>
</head>
<body>
    <form action="./index_2.html" method="get">
        id : <input name = "id" type="text">
        pw : <input name = "pw" type="text">
        <button type="submit">로그인</button>
    </form>
    <script>
        let url = `https://estsoft-openai-api.jejucodingcamp.workers.dev/`;

        let data = [{
            "role" : "system",
            "content" : "assistant는 제주 여행 전문가다. 말투는 요다체이다."
        }]

        data.push((
            "role" : "user",
            "content" : "제주 3박 4일 일정을 짜줘"
        ))

        fetch(url)
        .then(res => res.jeon())
        .then(res => console.log(res))
    </script>
</body>
</html>

<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title></title>
</head>
<body>
    <!-- 
        <form action="./index.html" method="get">
            id : <input name="id" type="text">
            pw : <input name="pw" type="text">
            <button type="submit">로그인</button>
        </form> 
    -->
    <script>
        let url = `https://estsoft-openai-api.jejucodingcamp.workers.dev/`;

        let data = [{
            "role": "system",
            "content": "assistant는 제주 여행 전문가이다."
        }]

        data.push({
            "role": "user",
            "content": "제주 3박 4일 일정을 짜줘"
        })

        fetch(url,{
            method: "POST",
            headers: {
                "Content-Type": "application/json",
            },
            body: JSON.stringify(data),
            redirect: "follow",
        })
        .then(res => res.json())
        .then(res => 
            console.log(res)
            console.log(res.choices[0].message.content)
        )
    </script>
</body>
</html>